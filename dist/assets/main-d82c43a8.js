import{_ as B,o as c,c as C,a as x,t as $,aw as L,b as a,g as b,h as g,w as d,F as w,x as D,l as m,S,T as F}from"./index-c59e3292.js";const N={class:"mp-item-can"},O={class:"title"},P={__name:"main",props:{data:{type:Object,default:()=>({})}},setup(r){return(s,t)=>(c(),C("div",N,[x("p",O,$(r.data.title),1),x("p",null,$(r.data.content),1),x("p",null,$(r.data.date),1)]))}},I=B(P,[["__scopeId","data-v-cc435a41"]]),T={};let _=0;T.getList=(r=1,s)=>new Promise(t=>{setTimeout(()=>{Math.random()>.35?(_++,t([{title:`数据标题${_}-1`,content:"内容内容内容内容内容内容内容内容内容内容",date:"2023-08-20"},{title:`数据标题${_}-2`,content:"内容内容内容内容内容内容内容内容内容内容",date:"2023-08-20"},{title:`数据标题${_}-3`,content:"内容内容内容内容内容内容内容内容内容内容",date:"2023-08-20"},{title:`数据标题${_}-4`,content:"内容内容内容内容内容内容内容内容内容内容",date:"2023-08-20"},{title:`数据标题${_}-5`,content:"内容内容内容内容内容内容内容内容内容内容",date:"2023-08-20"},{title:`数据标题${_}-6`,content:"内容内容内容内容内容内容内容内容内容内容",date:"2023-08-20"}])):t([])},L)});const R={__name:"tab1",setup(r,{expose:s}){const t=a([]),n=a(null),l=a(1),u=a(""),v=async()=>{let e=await T.getList(l.value,u.value);e&&e.length>0?(t.value=[...t.value,...e],l.value++):n.value.finish()},f=()=>{l.value=1,t.value=[]},o=e=>{u.value=e,n.value.reloadData()},p=e=>{console.log(e)};return s({query:o}),(e,k)=>{const h=b("rtm-list");return c(),g(h,{ref_key:"list",ref:n,load:v,empty:t.value.length===0,onRefresh:f},{default:d(()=>[(c(!0),C(w,null,D(t.value,(i,y)=>(c(),g(I,{key:y,data:i,onClick:q=>p(i)},null,8,["data","onClick"]))),128))]),_:1},8,["empty"])}}},V={__name:"tab2",setup(r,{expose:s}){const t=a([]),n=a(null),l=a(1),u=a(""),v=async()=>{let e=await T.getList(l.value,u.value);e&&e.length>0?(t.value=[...t.value,...e],l.value++):n.value.finish()},f=()=>{l.value=1,t.value=[]},o=e=>{u.value=e,n.value.reloadData()},p=e=>{console.log(e)};return s({query:o}),(e,k)=>{const h=b("rtm-list");return c(),g(h,{ref_key:"list",ref:n,load:v,empty:t.value.length===0,onRefresh:f},{default:d(()=>[(c(!0),C(w,null,D(t.value,(i,y)=>(c(),g(I,{key:y,data:i,onClick:q=>p(i)},null,8,["data","onClick"]))),128))]),_:1},8,["empty"])}}},E={__name:"main",setup(r){const s=a(0),t=a(null),n=a(null),l=a([]),u=a(["无量寿佛经书","嘻哈风","四成弦和豆腐坊","天地无极万里追踪","西天","王总","小蔡","老毕"]),v=o=>{},f=o=>{s.value===0?t.value.query(o):s.value===1&&n.value.query(o)};return(o,p)=>{const e=b("rtm-top-searcher"),k=S,h=F,i=b("rtm-app-container");return c(),g(i,{title:"带顶部tab的下拉刷新列表",canPop:""},{default:d(()=>[m(e,{placeholder:"搜索",history:u.value,predictions:l.value,onChange:v,onSearch:f},null,8,["history","predictions"]),m(h,{active:s.value,"onUpdate:active":p[0]||(p[0]=y=>s.value=y)},{default:d(()=>[m(k,{title:"tab1"},{default:d(()=>[m(R,{ref_key:"tabc1",ref:t},null,512)]),_:1}),m(k,{title:"tab2"},{default:d(()=>[m(V,{ref_key:"tabc2",ref:n},null,512)]),_:1})]),_:1},8,["active"])]),_:1})}}};export{E as default};
