import{_ as B,o as c,c as $,a as k,t as C,aw as L,b as a,g as x,h as b,w as m,F as w,x as D,l as p,S,T as F}from"./index-c59e3292.js";const N={class:"mp-item-can double-col"},O={class:"inner-can"},P={class:"title"},R={__name:"main",props:{data:{type:Object,default:()=>({})}},setup(r){return(l,t)=>(c(),$("div",N,[k("div",O,[k("p",P,C(r.data.title),1),k("p",null,C(r.data.content),1),k("p",null,C(r.data.date),1)])]))}},I=B(R,[["__scopeId","data-v-6a537bbd"]]),T={};let _=0;T.getList=(r=1,l)=>new Promise(t=>{setTimeout(()=>{Math.random()>.35?(_++,t([{title:`数据标题${_}-1`,content:"内容内容内容内容内容内容内容内容内容内容",date:"2023-08-20"},{title:`数据标题${_}-2`,content:"内容内容内容内容内容内容内容内容内容内容",date:"2023-08-20"},{title:`数据标题${_}-3`,content:"内容内容内容内容内容内容内容内容内容内容",date:"2023-08-20"},{title:`数据标题${_}-4`,content:"内容内容内容内容内容内容内容内容内容内容",date:"2023-08-20"},{title:`数据标题${_}-5`,content:"内容内容内容内容内容内容内容内容内容内容",date:"2023-08-20"},{title:`数据标题${_}-6`,content:"内容内容内容内容内容内容内容内容内容内容",date:"2023-08-20"}])):t([])},L)});const V={__name:"tab1",setup(r,{expose:l}){const t=a([]),n=a(null),o=a(1),u=a(""),v=async()=>{let e=await T.getList(o.value,u.value);e&&e.length>0?(t.value=[...t.value,...e],o.value++):n.value.finish()},f=()=>{o.value=1,t.value=[]},s=e=>{u.value=e,n.value.reloadData()},d=e=>{console.log(e)};return l({query:s}),(e,g)=>{const h=x("rtm-list");return c(),b(h,{ref_key:"list",ref:n,doubleCol:"",load:v,empty:t.value.length===0,onRefresh:f},{default:m(()=>[(c(!0),$(w,null,D(t.value,(i,y)=>(c(),b(I,{key:y,data:i,onClick:q=>d(i)},null,8,["data","onClick"]))),128))]),_:1},8,["empty"])}}},j={__name:"tab2",setup(r,{expose:l}){const t=a([]),n=a(null),o=a(1),u=a(""),v=async()=>{let e=await T.getList(o.value,u.value);e&&e.length>0?(t.value=[...t.value,...e],o.value++):n.value.finish()},f=()=>{o.value=1,t.value=[]},s=e=>{u.value=e,n.value.reloadData()},d=e=>{console.log(e)};return l({query:s}),(e,g)=>{const h=x("rtm-list");return c(),b(h,{ref_key:"list",ref:n,doubleCol:"",load:v,empty:t.value.length===0,onRefresh:f},{default:m(()=>[(c(!0),$(w,null,D(t.value,(i,y)=>(c(),b(I,{key:y,data:i,onClick:q=>d(i)},null,8,["data","onClick"]))),128))]),_:1},8,["empty"])}}},H={__name:"main",setup(r){const l=a(0),t=a(null),n=a(null),o=a([]),u=a(["无量寿佛经书","嘻哈风","四成弦和豆腐坊","天地无极万里追踪","西天","王总","小蔡","老毕"]),v=s=>{},f=s=>{l.value===0?t.value.query(s):l.value===1&&n.value.query(s)};return(s,d)=>{const e=x("rtm-top-searcher"),g=S,h=F,i=x("rtm-app-container");return c(),b(i,{title:"带顶部tab的下拉刷新列表",canPop:""},{default:m(()=>[p(e,{placeholder:"搜索",history:u.value,predictions:o.value,onChange:v,onSearch:f},null,8,["history","predictions"]),p(h,{active:l.value,"onUpdate:active":d[0]||(d[0]=y=>l.value=y)},{default:m(()=>[p(g,{title:"tab1"},{default:m(()=>[p(V,{ref_key:"tabc1",ref:t},null,512)]),_:1}),p(g,{title:"tab2"},{default:m(()=>[p(j,{ref_key:"tabc2",ref:n},null,512)]),_:1})]),_:1},8,["active"])]),_:1})}}};export{H as default};
