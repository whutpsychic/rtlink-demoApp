import{_ as R,g as y,o,c as u,a as m,h as _,k as j,t as L,v as w,b as n,w as f,F as N,x as O,ar as S,aq as q,l as v,S as F,T as P}from"./index-c59e3292.js";const M={class:"todos-dones-item-can"},V={class:"left-icon"},U={key:2,class:"state",style:{color:"#7B68EE"}},B={key:3,class:"state",style:{color:"orange"}},W={key:4,class:"state",style:{color:"gray"}},$={key:5,class:"state",style:{color:"gray"}},E={key:6,class:"state",style:{color:"#1E90FF"}},K={class:"right-content"},z={class:"title"},H={class:"subject"},Y={class:"sustain"},A={__name:"main",props:{data:{type:Object,default:()=>({})}},setup(a){return(l,e)=>{const r=y("rtmicon-read-already"),s=y("rtmicon-read-wait");return o(),u("div",M,[m("div",V,[a.data.isRead==1?(o(),_(r,{key:0,size:"32",color:"gray"})):(o(),_(s,{key:1,size:"32",color:"orange"})),a.data.status==="COPYTO"?(o(),u("p",U,"待回复")):a.data.status==="COMMU"?(o(),u("p",B,"待反馈")):a.data.status==="feedback"?(o(),u("p",W,"已反馈")):a.data.status==="copyto_reply"?(o(),u("p",$,"已回复")):a.data.status==="FOLLOW"?(o(),u("p",E,"跟踪")):j("",!0)]),m("div",K,[m("p",z,L(a.data.subject||" — "),1),m("div",H,[m("span",null,L(a.data.ownerName),1)]),m("p",Y,L(a.data.createTime),1)])])}}},C=R(A,[["__scopeId","data-v-552c37f0"]]),T={};T.getPassPerusalList=(a=1,l)=>w.fakeListIO(a,[{id:"1641321214539976704",name:"公司审核",subject:"超级管理员在2023-03-30发起设备调拨上报",procInstId:"1641320240266072064",taskId:"1641320572333314048",nodeId:"UserTask_04jmqet",procDefId:"1641316784360804352",procDefKey:"sbdbsb",procDefName:"设备调拨上报",ownerId:"1",ownerName:"超级管理员",assigneeId:"1",assigneeName:"超级管理员",status:"FOLLOW",createTime:"2023-03-30 14:07:26",suspendState:0,typeId:"1641280546035712000",supportMobile:0,isRead:1,isRevoke:0,pkVal:"1641321214539976704"},{id:"1641321214539976704",name:"公司审核",subject:"超级管理员在2023-03-30发起设备调拨上报",procInstId:"1641320240266072064",taskId:"1641320572333314048",nodeId:"UserTask_04jmqet",procDefId:"1641316784360804352",procDefKey:"sbdbsb",procDefName:"设备调拨上报",ownerId:"1",ownerName:"超级管理员",assigneeId:"1",assigneeName:"超级管理员",status:"FOLLOW",createTime:"2023-03-30 14:07:26",suspendState:0,typeId:"1641280546035712000",supportMobile:0,isRead:1,isRevoke:0,pkVal:"1641321214539976704"},{id:"1641321214539976704",name:"公司审核",subject:"超级管理员在2023-03-30发起设备调拨上报",procInstId:"1641320240266072064",taskId:"1641320572333314048",nodeId:"UserTask_04jmqet",procDefId:"1641316784360804352",procDefKey:"sbdbsb",procDefName:"设备调拨上报",ownerId:"1",ownerName:"超级管理员",assigneeId:"1",assigneeName:"超级管理员",status:"FOLLOW",createTime:"2023-03-30 14:07:26",suspendState:0,typeId:"1641280546035712000",supportMobile:0,isRead:1,isRevoke:0,pkVal:"1641321214539976704"},{id:"1641321214539976704",name:"公司审核",subject:"超级管理员在2023-03-30发起设备调拨上报",procInstId:"1641320240266072064",taskId:"1641320572333314048",nodeId:"UserTask_04jmqet",procDefId:"1641316784360804352",procDefKey:"sbdbsb",procDefName:"设备调拨上报",ownerId:"1",ownerName:"超级管理员",assigneeId:"1",assigneeName:"超级管理员",status:"FOLLOW",createTime:"2023-03-30 14:07:26",suspendState:0,typeId:"1641280546035712000",supportMobile:0,isRead:1,isRevoke:0,pkVal:"1641321214539976704"}]);T.getMyPassPerusalList=(a=1,l)=>w.fakeListIO(a,[]);const G={__name:"tab1",setup(a,{expose:l}){const e=n([]),r=n(null),s=n(1),c=n(""),h=async()=>{let t=await T.getPassPerusalList(s.value,c.value);t&&t.length>0?(e.value=[...e.value,...t],s.value++):r.value.finish()},k=()=>{s.value=1,e.value=[]},I=t=>{c.value=t,r.value.reloadData()},b=()=>{c.value=""},i=t=>{S("此功能尚未开发")};return l({query:I,resetSearchText:b}),(t,x)=>{const p=y("rtm-list");return o(),_(p,{ref_key:"list",ref:r,load:h,empty:e.value.length===0,onRefresh:k},{default:f(()=>[(o(!0),u(N,null,O(e.value,(d,g)=>(o(),_(C,{key:g,data:d,onClick:D=>i(d)},null,8,["data","onClick"]))),128))]),_:1},8,["empty"])}}},J={__name:"tab2",setup(a,{expose:l}){const e=n([]),r=n(null),s=n(1),c=n(""),h=async()=>{let t=await T.getMyPassPerusalList(s.value,c.value);t&&t.length>0?(e.value=[...e.value,...t],s.value++):r.value.finish()},k=()=>{s.value=1,e.value=[]},I=t=>{c.value=t,r.value.reloadData()},b=()=>{c.value=""},i=t=>{S("此功能尚未开发")};return l({query:I,resetSearchText:b}),(t,x)=>{const p=y("rtm-list");return o(),_(p,{ref_key:"list",ref:r,load:h,empty:e.value.length===0,onRefresh:k},{default:f(()=>[(o(!0),u(N,null,O(e.value,(d,g)=>(o(),_(C,{key:g,data:d,onClick:D=>i(d)},null,8,["data","onClick"]))),128))]),_:1},8,["empty"])}}},X={__name:"main",setup(a){const l=q(),e=n(0),r=n(null),s=n(null),c=n(null),h=n([]),k=n([]),I=i=>{r.value.reset(),s.value&&s.value.resetSearchText&&s.value.resetSearchText(),c.value&&c.value.resetSearchText&&c.value.resetSearchText()},b=i=>{e.value===0?s.value.query(i):e.value===1&&c.value.query(i)};return e.value=parseInt(l.query.tag),(i,t)=>{const x=y("rtm-top-searcher"),p=F,d=P,g=y("rtm-app-container");return o(),_(g,{title:"我的传阅",canPop:""},{default:f(()=>[v(x,{ref_key:"searcher",ref:r,placeholder:"搜索",history:k.value,predictions:h.value,onSearch:b},null,8,["history","predictions"]),v(d,{active:e.value,"onUpdate:active":t[0]||(t[0]=D=>e.value=D),onChange:I},{default:f(()=>[v(p,{title:"传阅事项"},{default:f(()=>[v(G,{ref_key:"tabc1",ref:s},null,512)]),_:1}),v(p,{title:"我传阅的"},{default:f(()=>[v(J,{ref_key:"tabc2",ref:c},null,512)]),_:1})]),_:1},8,["active"])]),_:1})}}};export{X as default};
