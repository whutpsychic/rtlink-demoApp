import{_ as $,o as l,d as v,e as p,t as u,f as o,r as m,c as f,w as g,a as y,g as D,F}from"./index-3244ee27.js";const N={class:"item-can"},P={class:"title"},V={__name:"main",props:{title:{type:String,default:""},content:{type:String,default:""},date:{type:String,default:""}},setup(e){return(n,a)=>(l(),v("div",N,[p("p",P,u(e.title),1),p("p",null,u(e.content),1),p("p",null,u(e.date),1)]))}},j=$(V,[["__scopeId","data-v-93435aa4"]]),x={};let s=0;x.getItems=()=>new Promise((e,n)=>{setTimeout(()=>{s++;let a=[{title:`标题${s}-1`,content:"一些内容",date:"2023-01-01"},{title:`标题${s}-2`,content:"一些内容",date:"2023-01-01"},{title:`标题${s}-3`,content:"一些内容",date:"2023-01-01"}],c=Math.random()*10>3;e(c?a:[])},1e3)});const H={__name:"main",setup(e){const n=o([]),a=o([]),c=o(["无量寿佛经书","嘻哈风","四成弦和豆腐坊","天地无极万里追踪","西天","王总","小蔡","老毕"]),d=o(null),S=async()=>{let t=await x.getItems();console.log(t),t&&t.length>0?n.value=[...n.value,...t]:d.value.finish()},k=()=>{n.value=[]},w=t=>{console.log(t);const h=t.split("").map((r,i)=>({text:r,type:i%2>0?"hot":"last"}));a.value=h},B=t=>{console.log(t)};return(t,h)=>{const r=m("rtm-top-searcher"),i=m("rtm-list"),C=m("rtm-app-container");return l(),f(C,{title:"带顶部搜索栏的下拉刷新列表",canPop:""},{default:g(()=>[y(r,{placeholder:"搜索",history:c.value,predictions:a.value,onChange:w,onSearch:B},null,8,["history","predictions"]),y(i,{ref_key:"list",ref:d,load:S,empty:n.value.length===0,onRefresh:k},{default:g(()=>[(l(!0),v(F,null,D(n.value,(_,I)=>(l(),f(j,{key:I,title:_.title,content:_.content,date:_.date},null,8,["title","content","date"]))),128))]),_:1},8,["empty"])]),_:1})}}};export{H as default};
