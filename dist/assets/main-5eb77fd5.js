import{_ as L,o as l,c as x,a as d,t as p,ax as S,b as n,g as m,h as f,w as y,l as g,x as b,F}from"./index-9d2fff7b.js";const N={class:"mp-item-can"},O={class:"title"},P={__name:"main",props:{data:{type:Object,default:()=>({})}},setup(s){return(c,o)=>(l(),x("div",N,[d("p",O,p(s.data.title),1),d("p",null,p(s.data.content),1),d("p",null,p(s.data.date),1)]))}},V=L(P,[["__scopeId","data-v-03add9a4"]]),$={};let e=0;$.getList=(s=1,c)=>new Promise(o=>{setTimeout(()=>{Math.random()>.35?(e++,o([{title:`数据标题${e}-1`,content:"内容内容内容内容内容内容内容内容内容内容",date:"2023-08-20"},{title:`数据标题${e}-2`,content:"内容内容内容内容内容内容内容内容内容内容",date:"2023-08-20"},{title:`数据标题${e}-3`,content:"内容内容内容内容内容内容内容内容内容内容",date:"2023-08-20"},{title:`数据标题${e}-4`,content:"内容内容内容内容内容内容内容内容内容内容",date:"2023-08-20"},{title:`数据标题${e}-5`,content:"内容内容内容内容内容内容内容内容内容内容",date:"2023-08-20"},{title:`数据标题${e}-6`,content:"内容内容内容内容内容内容内容内容内容内容",date:"2023-08-20"}])):o([])},S)});const E={__name:"main",setup(s){const c=n([]),o=n(["无量寿佛经书","嘻哈风","四成弦和豆腐坊","天地无极万里追踪","西天","王总","小蔡","老毕"]),a=n([]),r=n(null),i=n(1),h=n(""),k=async()=>{let t=await $.getList(i.value,h.value);t&&t.length>0?(a.value=[...a.value,...t],i.value++):r.value.finish()},w=()=>{i.value=1,a.value=[]},B=t=>{const v=t.split("").map((_,u)=>({text:_,type:u%2>0?"hot":"last"}));c.value=v},C=t=>{h.value=t,r.value.reloadData()};return(t,v)=>{const _=m("rtm-top-searcher"),u=m("rtm-list"),T=m("rtm-app-container");return l(),f(T,{title:"带顶部搜索栏的下拉刷新列表",canPop:""},{default:y(()=>[g(_,{placeholder:"搜索",history:o.value,predictions:c.value,onChange:B,onSearch:C},null,8,["history","predictions"]),g(u,{ref_key:"list",ref:r,load:k,empty:a.value.length===0,onRefresh:w},{default:y(()=>[(l(!0),x(F,null,b(a.value,(D,I)=>(l(),f(V,{key:I,data:D},null,8,["data"]))),128))]),_:1},8,["empty"])]),_:1})}}};export{E as default};
