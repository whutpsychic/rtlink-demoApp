import{_ as I,o as r,c as x,a as l,t as p,ax as L,b as n,g as m,h as v,w as y,l as g,x as S,F}from"./index-9d2fff7b.js";const N={class:"mp-item-can double-col"},O={class:"inner-can"},P={class:"title"},V={__name:"main",props:{data:{type:Object,default:()=>({})}},setup(s){return(c,o)=>(r(),x("div",N,[l("div",O,[l("p",P,p(s.data.title),1),l("p",null,p(s.data.content),1),l("p",null,p(s.data.date),1)])]))}},j=I(V,[["__scopeId","data-v-bed1f1bf"]]),b={};let e=0;b.getList=(s=1,c)=>new Promise(o=>{setTimeout(()=>{Math.random()>.35?(e++,o([{title:`数据标题${e}-1`,content:"内容内容内容内容内容内容内容内容内容内容",date:"2023-08-20"},{title:`数据标题${e}-2`,content:"内容内容内容内容内容内容内容内容内容内容",date:"2023-08-20"},{title:`数据标题${e}-3`,content:"内容内容内容内容内容内容内容内容内容内容",date:"2023-08-20"},{title:`数据标题${e}-4`,content:"内容内容内容内容内容内容内容内容内容内容",date:"2023-08-20"},{title:`数据标题${e}-5`,content:"内容内容内容内容内容内容内容内容内容内容",date:"2023-08-20"},{title:`数据标题${e}-6`,content:"内容内容内容内容内容内容内容内容内容内容",date:"2023-08-20"}])):o([])},L)});const H={__name:"main",setup(s){const c=n([]),o=n(["无量寿佛经书","嘻哈风","四成弦和豆腐坊","天地无极万里追踪","西天","王总","小蔡","老毕"]),a=n([]),i=n(null),_=n(1),h=n(""),$=async()=>{let t=await b.getList(_.value,h.value);t&&t.length>0?(a.value=[...a.value,...t],_.value++):i.value.finish()},k=()=>{_.value=1,a.value=[]},C=t=>{const f=t.split("").map((u,d)=>({text:u,type:d%2>0?"hot":"last"}));c.value=f},w=t=>{h.value=t,i.value.reloadData()};return(t,f)=>{const u=m("rtm-top-searcher"),d=m("rtm-list"),B=m("rtm-app-container");return r(),v(B,{title:"带顶部搜索栏的两列式下拉刷新列表",canPop:""},{default:y(()=>[g(u,{placeholder:"搜索",history:o.value,predictions:c.value,onChange:C,onSearch:w},null,8,["history","predictions"]),g(d,{ref_key:"list",ref:i,doubleCol:"",load:$,empty:a.value.length===0,onRefresh:k},{default:y(()=>[(r(!0),x(F,null,S(a.value,(T,D)=>(r(),v(j,{key:D,data:T},null,8,["data"]))),128))]),_:1},8,["empty"])]),_:1})}}};export{H as default};
