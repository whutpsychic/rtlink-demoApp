import{_ as F,g as c,o,c as i,h as d,U as _,u as Y,b as h,N as C,s as Z,e as V,f as J,w as n,a as t,t as f,l as e,q as N,x as B,F as T,j as k,V as K,W as M,X as O,Y as Q,B as ee,p as te,n as ne,Z as oe}from"./index-c59e3292.js";import"./common-b417f748.js";import{a as ae}from"./index-0937d9bb.js";const le={class:"account-state-wrapper"},se={__name:"account-state",props:{type:{type:[Number,String],default:""},text:{type:String,default:" - "}},setup(l){const s=["#62caf8","red","orange","#000"];return(v,m)=>{const x=c("rtmicon-mystate-normal"),g=c("rtmicon-mystate-abnormal");return o(),i("div",le,[l.type=="1"?(o(),d(x,{key:0,size:"18",color:s[0]},null,8,["color"])):l.type=="0"?(o(),d(g,{key:1,size:"18",color:s[1]},null,8,["color"])):l.type=="-1"?(o(),d(g,{key:2,size:"18",color:s[2]},null,8,["color"])):(o(),d(g,{key:3,size:"18",color:s[3]},null,8,["color"])),l.type=="1"?(o(),i("span",{key:4,style:_(`color:${s[0]}`)},"正常",4)):l.type=="0"?(o(),i("span",{key:5,style:_(`color:${s[1]}`)},"禁用",4)):l.type=="-1"?(o(),i("span",{key:6,style:_(`color:${s[2]}`)},"未激活",4)):(o(),i("span",{key:7,style:_(`color:${s[3]}`)},"离职",4))])}}},re=F(se,[["__scopeId","data-v-aab6915f"]]),ce=""+new URL("avatar-default-035eb1e7.png",import.meta.url).href;const L=l=>(te("data-v-9960a195"),l=l(),ne(),l),ie={class:"rtm-app-body"},ue={class:"top-section"},_e={class:"left-icon"},me=["src"],de={class:"right-content"},pe={class:"name"},ge={class:"account"},ve=L(()=>t("div",{class:"spliter-line"},null,-1)),ye=L(()=>t("div",{class:"spliter-line"},null,-1)),he=["src"],fe={key:1,style:{height:"120px"}},be={class:"op-btn"},b=20,ke={__name:"main",setup(l){const s=Y(),v=h({}),m=h({}),x=h(ce),g=h(null),z=h({}),$=C(()=>{const{value:a={}}=v;try{return a.role.roleName.split("|")}catch{return["无"]}}),I=C(()=>{const{value:a={}}=v;try{return a.post instanceof Array?a.post.map(r=>r.postName):["无"]}catch{return["无"]}}),S=C(()=>{const{value:a={}}=v;try{return a.org.map(r=>r.orgName)}catch{return["无"]}}),R=a=>{s.push({path:a,query:{...z.value}})},U=()=>{ae({title:"退出登录",message:"您确定要退出登录吗？"}).then(()=>{K.logout().then(()=>{M({message:"您已退出登录",position:"bottom"}),s.replace("/login")})}).catch(()=>{})};return Z({message:"加载中...",duration:0,forbidClick:!0}),V.getUserInfo().then(a=>{const{user:r}=a;v.value=a,m.value=r}),V.getPreSignatureInfo().then(a=>{z.value={...a}}).finally(()=>{J()}),(a,r)=>{const q=c("rtmicon-phone-number"),p=O,D=c("rtmicon-email"),j=c("rtmicon-address"),y=Q,A=c("rtmicon-role"),w=oe,E=c("rtmicon-station"),G=c("rtmicon-department"),H=c("rticon-fillin-data"),P=c("rticon-run"),W=ee,X=c("rtm-app-container");return o(),d(X,{title:"我的"},{default:n(()=>[t("div",ie,[t("div",ue,[t("div",_e,[t("img",{src:x.value},null,8,me)]),t("div",de,[t("p",pe,f(m.value.fullname),1),t("div",ge,[t("p",null,"账号： "+f(m.value.account),1),e(re,{type:m.value.status},null,8,["type"])])])]),e(y,null,{default:n(()=>[e(p,{class:"mine-item","model-value":m.value.mobile,label:"手机号码",readonly:"","input-align":"right",border:!1},{"left-icon":n(()=>[e(q,{size:24})]),_:1},8,["model-value"]),ve,e(p,{class:"mine-item","model-value":m.value.email,label:"电子邮箱",readonly:"","input-align":"right",border:!1},{"left-icon":n(()=>[e(D,{size:24})]),_:1},8,["model-value"]),ye,e(p,{class:"mine-item","model-value":m.value.address,label:"家庭地址",readonly:"","input-align":"right",border:!1},{"left-icon":n(()=>[e(j,{size:24})]),_:1},8,["model-value"])]),_:1}),t("div",{style:_(`height:${b}px;`)},null,4),e(y,null,{default:n(()=>[e(p,{class:"mine-item",label:"所属角色",readonly:"","input-align":"right",border:!1},{"left-icon":n(()=>[e(A,{size:24})]),_:1}),t("div",{class:N($.value.length===1&&$.value[0]==="无"?"tag-container nodata":"tag-container")},[(o(!0),i(T,null,B($.value,u=>(o(),d(w,{key:u,type:"primary",size:"large"},{default:n(()=>[k(f(u),1)]),_:2},1024))),128))],2)]),_:1}),t("div",{style:_(`height:${b}px;`)},null,4),e(y,null,{default:n(()=>[e(p,{class:"mine-item",label:"所在岗位",readonly:"","input-align":"right",border:!1},{"left-icon":n(()=>[e(E,{size:24})]),_:1}),t("div",{class:N(I.value.length===1&&I.value[0]==="无"?"tag-container nodata":"tag-container")},[(o(!0),i(T,null,B(I.value,u=>(o(),d(w,{key:u,type:"primary",size:"large"},{default:n(()=>[k(f(u),1)]),_:2},1024))),128))],2)]),_:1}),t("div",{style:_(`height:${b}px;`)},null,4),e(y,null,{default:n(()=>[e(p,{class:"mine-item",label:"所属部门",readonly:"","input-align":"right",border:!1},{"left-icon":n(()=>[e(G,{size:24})]),_:1}),t("div",{class:N(S.value.length===1&&S.value[0]==="无"?"tag-container nodata":"tag-container")},[(o(!0),i(T,null,B(S.value,u=>(o(),d(w,{key:u,type:"primary",size:"large"},{default:n(()=>[k(f(u),1)]),_:2},1024))),128))],2)]),_:1}),t("div",{style:_(`height:${b}px;`)},null,4),e(y,null,{default:n(()=>[e(p,{class:"mine-item",label:"电子签章",readonly:"","input-align":"right",border:!1},{"left-icon":n(()=>[e(H,{size:24})]),_:1}),t("div",{class:"sign-container",onClick:r[0]||(r[0]=u=>R("/mine/signature",z.value))},[g.value?(o(),i("img",{key:0,style:{height:"120px"},alt:"签名",src:g.value},null,8,he)):(o(),i("div",fe))])]),_:1}),t("div",{style:_(`height:${b}px;`)},null,4),t("div",be,[e(W,{block:"",onClick:U},{icon:n(()=>[e(P,{size:20,color:"red"})]),default:n(()=>[k(" 退出登录 ")]),_:1})])])]),_:1})}}},Ie=F(ke,[["__scopeId","data-v-9960a195"]]);export{Ie as default};
